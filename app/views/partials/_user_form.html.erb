<div class='form-container'>
    <% form_url = local_assigns[:signup] ? create_user_path : login_path %>

    <div class='form-header'>
      <span><%= local_assigns[:header_text] %></span>
      <span class='form-logo '>CTF//<i>DASH</i></span>

      <% if flash[:errors] %>
        <div class='error-container'>
          <% flash[:errors].each do |e| %>
            <span><%= e %></span>
          <% end %>
      </div>
      <% end %>

    </div>

    <%= form_with(model: @user, url: form_url, class: 'login-form') do |f| %>
      <div class="input-wrapper">
        <%= f.text_field :username %>
        <span class='input-focus' value='Username'/>
      </div>
      <div class="input-wrapper">
        <%= f.password_field :password %>
        <span class='input-focus' value='Password'/>
      </div>
      
      <% if local_assigns[:signup] %>
        <div class="input-wrapper">
          <%= f.password_field :password_confirmation %>
          <span class='input-focus' value='Password Confirmation'/>
        </div>
      <% end%>

      <div class='button-wrapper'>
        <div class='button-background'></div>
        <%= f.submit class: 'button',value: local_assigns[:signup] ? 'Signup' : 'Login' %>
      </div>
    <% end %>

      <div class='form-footer'>
        <% if local_assigns[:signup]  %>
          <span>Already have an account? <%= link_to 'Login', login_path %></span>
        <% else %>
          <span>Don't have an account? <%= link_to 'Signup', signup_path %></span>
        <% end %>
      </div>
  </div>